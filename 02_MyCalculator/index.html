<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>My Calculator</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- <p><a href="https://www.desmos.com/scientific" target="_blank">參考網路上面的計算機</a></p> -->

    <div class="container">
        <div class="display">
            <p id="result"></p>
        </div>
        <span onclick="fun(7)" >7</span>
        <span onclick="fun(8)" >8</span>
        <span onclick="fun(9)" >9</span>
        <span class="cacu" onclick="operBtn('*')" >x</span>
        <span onclick="del()" id="clear" >AC</span>
        <span onclick="fun(4)" >4</span>
        <span onclick="fun(5)">5</span>
        <span onclick="fun(6)" >6</span>
        <span class="cacu" onclick="operBtn('-')" value="-">-</span>
        <span class="cacu" onclick="operBtn('%')" value="%">%</span>
        <span onclick="fun(1)" value="1">1</span>
        <span onclick="fun(2)" value="2">2</span>
        <span onclick="fun(3)" value="3">3</span>
        <span class="cacu" onclick="operBtn('+')" value="+">+</span>
        <span class="cacu" onclick="operBtn('/')" value="/">/</span>
        <span class="zero" onclick="fun(0)" value="0">0</span>
        <span onclick="fun('.')">.</span>
        <span class="cacu equ" onclick="equal()" >=</span>
    </div>


    <script>
        var result =  document.getElementById("result");
        var clear = document.getElementById("clear");
        var strOper=0;  //暫存運算符號
        
        //按鈕顯示數字
        function fun(str) {
        	if (strOper==null) {
	            result.innerHTML = str;
	            strOper=0;
	            return;
	        };

        	if (result.innerHTML ==0) { 
	            result.innerHTML  = str;
	        } else {
	        result.innerHTML = result.innerHTML + str;
	        }
            
        }


        //歸零按鈕

        function del(){
            str = "";
            result.innerHTML = "0";
            result.value=0;
            
        };

        //運算符號

	    function operBtn(str){

	        //不按等號的連續運算

	        equal();

	        valueA=result.innerHTML;
	        strOper=str;
	        
	        result.innerHTML = "";


	    }
	    

	    //等於

	    function equal(){   

	        switch (strOper){
	            case '+':
	                result.innerHTML=parseFloat(valueA)+parseFloat(result.innerHTML);
	                break;
	            case '-':
	                result.innerHTML=parseFloat(valueA)-parseFloat(result.innerHTML);
	                break;
	            case '*':
	                result.innerHTML=parseFloat(valueA)*parseFloat(result.innerHTML);
	                break;
	            case '/':
	                result.innerHTML=parseFloat(valueA)/parseFloat(result.innerHTML);
	                break;
	            default:
	                break;
	        }



	        //防呆用
	        strOper=null;
	    }




    </script>
</body>

</html>